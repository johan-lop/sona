<div ng-controller="BuscadorApuCtrl as contr">

    <div class="row">
        <form autocomplete="off">
            <div class="col-lg-12 col-md-12">
                <label>Descripci贸n Herramienta</label>
                <input id="descripcion" 
                       class="form-control" 
                       type="text"
                       ng-model="filtro.nombre"
                       placeholder="Descripci贸n Herramienta"
                       ng-change="buscar()"/>
            </div>
        </form>
    </div>
    <br />
    <div class="row">
        <div class="col-lg-12 col-md-12">
            <table ng-table="tableParams" class="table" show-filter="true" style="table-layout: fixed; word-wrap: break-word">
                <colgroup style="vertical-align: middle">
                    <col width="10%"/>
                    <col width="45%"/>
                    <col width="15%"/>
                    <col width="15%"/>
                    <col width="15%"/>
                </colgroup>
                <tr ng-repeat-start="row in $data">
                    <td title="'C贸digo'" filter="{ id: 'text'}" sortable="'id'">{{row.id}}</td>
                    <td title="'Descripci贸n'" filter="{ descripcion: 'text'}" sortable="'descripcion'">{{row.descripcion}}</td>
                    <td title="'Estado'" filter="{estado : 'text'}">{{row.estadoApu.descripcion}}</td>
                    <td title="'Total'">{{row.valorTotal| currency:undefined:0}}</td>
<!--                    <td title="'Activo'" class="text-center">
                        <i class="glyphicon glyphicon-ok" ng-show="row.activo"></i>
                        <i class="glyphicon glyphicon-remove" ng-hide="row.activo"></i>
                    </td>-->
                    <td style="width: 15%" class="text-center">
                        <button type="button" class="btn btn-default" ng-click="ver(row)" data-toggle="modal" data-target="#modalDetalle">
                            <span class="glyphicon glyphicon-eye-open" uib-tooltip="Ver Detalle" ng-click="ver(row)"></span>
                        </button>    
                    </td>
                </tr>
                <tr ng-repeat-end>
                    <td colspan="5">
                        <table class="table table-striped">
                            <tr>
                                <td>Descripcion</td>
                                <td>Cantidad</td>
                                <td>Valor</td>
                            </tr>
                            <tr ng-repeat="item in row.items | filter: myFilter">
                                <td>{{item.herramienta.descripcion}}</td>
                                <td>{{item.cantidad}}</td>
                                <td>{{item}}</td>
                            </tr>
                        </table>
                        
                    </td>
                    
                </tr>
            </table>
        </div>
    </div>
</div>